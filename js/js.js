function start(){pause=!1,timer=setInterval(function(){moverNave()},1e3*dt)}function restart(){gameover=!1,bartop=5,barwidth=39,barleft=31,gasfil=fuel,y=10,bot2=!1,v=1==dks?30:0,a=g,c=fuel,document.getElementById("fondo-ind-bot-fil2").style.height=100-fuel+"%",document.getElementsByClassName("menu2")[0].style.display="none",document.getElementById("bot2p").innerHTML="OFF",document.getElementById("bpause").src="img/bPause.png",document.getElementById("nau").src="img/landerOff.png",document.getElementById("fondo-ind-bot-fil").style.height=gasfil+"%",stop(),start()}function stop(){pause=!0,clearInterval(timer)}function moverNave(){v+=a*dt,y+=v*dt,y>9&&(bartop+=v*dt*1.5,barleft>13&&y>9&&(barwidth+=v*dt*1.9),13>barleft&&barleft>.8&&(barwidth+=v*dt*.8)),barleft>13&&y>9&&(barleft-=v*dt*1),13>barleft&&barleft>.8&&(barleft-=v*dt*.4),velocidad.innerHTML=v.toFixed(1),altura.innerHTML=y.toFixed(0),document.getElementById("fondo-ind-top-bar").style.top=bartop+"%",document.getElementById("fondo-ind-top-bar").style.width=barwidth+"%",document.getElementById("fondo-ind-top-bar").style.left=barleft+"%",document.getElementById("fondo-ind-top-bar2").style.top=bartop+"%",70>y?document.getElementById("nave").style.top=y+"%":umbral>=v?(gameover=!0,stop(),document.getElementsByClassName("gameov")[0].style.display="block",document.getElementById("lose").style.display="none",document.getElementById("win").style.display="block"):(document.getElementById("nau").src="img/landerDestroyed.png",gameover=!0,stop(),document.getElementsByClassName("gameov")[0].style.display="block",document.getElementById("lose").style.display="block",document.getElementById("win").style.display="none")}function motorOn(){c>0&&(a=-g),null==timerFuel&&(timerFuel=setInterval(function(){actualizarFuel()},10))}function motorOff(){a=g,clearInterval(timerFuel),timerFuel=null}function actualizarFuel(){0==pause&&(c-=.1,gasfil=c,0>=c&&(c=0,document.getElementById("nau").src="img/landerOff.png",motorOff()),document.getElementById("fondo-ind-bot-fil").style.height=gasfil+"%",1==bot2&&(document.getElementById("fondo-ind-bot-fil2").style.height=100-gasfil+"%"))}var pause=!1,g=1.622,dt=.016683,timer=null,timerFuel=null,gameover=!1,bot2=!1,y=10,v=0,c=100,a=g,velocidad=null,altura=null,combustible=null,bartop=5,barwidth=39,barleft=31,gasfil=100,dificultad=1,umbral=5,fuel=100,dif="Fácil",dks=!1;window.onload=function(){velocidad=document.getElementById("velocidad"),altura=document.getElementById("altura"),combustible=document.getElementById("fuel"),document.getElementById("bmenu").onclick=function(){0==gameover&&(0==pause?(pause=!0,document.getElementsByClassName("menu2")[0].style.display="block",stop()):(pause=!1,document.getElementsByClassName("menu2")[0].style.display="none",start()))},document.getElementById("Dif").onclick=function(){if(0==gameover)switch(dificultad){case 1:fuel=50,document.getElementById("Dif").innerHTML="Media",dificultad=2,umbral=3,dif="Media",restart();break;case 2:fuel=35,document.getElementById("Dif").innerHTML="Difícil",dificultad=3,umbral=1,dif="Difícil",restart();break;case 3:dks=!0,fuel=10,document.getElementById("Dif").innerHTML="Dark Souls",dificultad=4,dif="Dark Souls",v=30,restart();break;case 4:dks=!1,fuel=100,document.getElementById("Dif").innerHTML="Fácil",dificultad=1,umbral=5,dif="Fácil",restart()}},document.getElementById("Dif3").onclick=function(){if(0==gameover)switch(dificultad){case 1:fuel=50,document.getElementById("Dif3").innerHTML="Media",dificultad=2,umbral=3,dif="Media",restart(),stop(),pause=!0,document.getElementsByClassName("menu2")[0].style.display="block";break;case 2:fuel=35,document.getElementById("Dif3").innerHTML="Difícil",dificultad=3,umbral=1,dif="Difícil",restart(),stop(),pause=!0,document.getElementsByClassName("menu2")[0].style.display="block";break;case 3:dks=!0,fuel=10,document.getElementById("Dif3").innerHTML="Dark Souls",dificultad=4,dif="Dark Souls",v=30,restart(),stop(),pause=!0,document.getElementsByClassName("menu2")[0].style.display="block";break;case 4:dks=!1,fuel=100,document.getElementById("Dif3").innerHTML="Fácil",dificultad=1,umbral=5,dif="Fácil",restart(),pause=!0,document.getElementsByClassName("menu2")[0].style.display="block",stop()}},document.getElementById("Dif").onmouseenter=function(){document.getElementById("Dif").innerHTML=dif},document.getElementById("Dif").onmouseout=function(){document.getElementById("Dif").innerHTML="Dificultad"},document.getElementById("Ab").onclick=function(){window.onbeforeunload=function(){return"¿Quieres salir?"}},document.getElementById("Ins").onclick=function(){window.onbeforeunload=function(){return"¿Quieres salir?"}},document.getElementById("Ab2").onclick=function(){window.onbeforeunload=function(){return"¿Quieres salir?"}},document.getElementById("Ins2").onclick=function(){window.onbeforeunload=function(){return"¿Quieres salir?"}},document.getElementsByClassName("bplay")[0].onclick=function(){0==gameover&&(0==pause?(document.getElementById("bpause").src="img/bPlay.png",pause=!0,stop()):(document.getElementById("bpause").src="img/bPause.png",pause=!1,start()))},document.getElementById("brest1").onclick=function(){0==gameover&&restart()},document.getElementById("reint").onclick=function(){restart(),document.getElementsByClassName("gameov")[0].style.display="none"},document.getElementById("showm").onclick=function(){document.getElementsByClassName("c")[0].style.display="block",stop()},document.getElementById("hidem").onclick=function(){document.getElementsByClassName("c")[0].style.display="none",start()},document.getElementsByClassName("bot")[0].onmousedown=function(){0==pause&&0==gameover&&a==g&&c>=0&&(motorOn(),document.getElementById("nau").src="img/landerOn.png"),document.onmouseup=function(){0==gameover&&(document.getElementById("nau").src="img/landerOff.png"),motorOff()}},document.getElementsByClassName("bot2")[0].onclick=function(){0==bot2?0==pause&&0==gameover&&(bot2=!0,document.getElementById("bot2p").innerHTML="ON",a==g&&c>=0&&(motorOn(),document.getElementById("nau").src="img/landerOn.png")):(0==gameover&&(bot2=!1,document.getElementById("bot2p").innerHTML="OFF",document.getElementById("nau").src="img/landerOff.png"),motorOff())},start()};
